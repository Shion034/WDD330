<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TODO-List</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Todos</h1>
    
    <div id="table">
        <ul class="task_list"></ul>
    </div>
    <div id="count_task"></div>Tasks Left
    <button class="sort all" type="button">All</button>
    <button class="sort active" type="button">Active</button>
    <button class="sort complete" type="button">Complete</button>
    <form>
        <input class="task_value" type="text" />
        <button class="task_submit" type="button">+</button>
    </form>


    <script >
        const taskValue = document.getElementsByClassName('task_value')[0];
            const taskSubmit = document.getElementsByClassName('task_submit')[0];
            const taskList = document.getElementsByClassName('task_list')[0];

            //追加ボタンを作成
            const addTasks = (task) => {

                // 入力したタスクを追加・表示
                const listItem = document.createElement('li');
                const showItem = taskList.appendChild(listItem);
                showItem.innerHTML = task;

                //タスク完了ボタンを付与
                 const doneButton = document.createElement('button');
                 doneButton.classList = ('done_button');
                doneButton.innerHTML = '□';
                listItem.appendChild(doneButton);
                //完了ボタンをクリックし、タスクに線を引く
                doneButton.addEventListener('click', line=>{
                    showItem.classList =('linethrough');
                });

                //タスクに削除ボタンを付与
                const deleteButton = document.createElement('button');
                deleteButton.classList=('x_button');
                deleteButton.innerHTML = 'x';
                listItem.appendChild(deleteButton);
                //削除ボタンをクリックし、イベントを発動（タスクが削除）
                deleteButton.addEventListener('click', evt => {
                    evt.preventDefault();
                    deleteTasks(deleteButton);
                });
            };

            //削除ボタンにタスクを消す機能を付与
            const deleteTasks = (deleteButton) => {
                const chosenTask = deleteButton.closest('li');
                taskList.removeChild(chosenTask);
            };

            //追加ボタンをクリックし、イベントを発動（タスクが追加）
            taskSubmit.addEventListener('click', evt => {
                evt.preventDefault();
                const task = taskValue.value;
                addTasks(task);
                taskValue.value = '';
            });


    </script>
</body>

</html>